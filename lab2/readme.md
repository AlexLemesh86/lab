![](RackMultipart20210316-4-qofmr7_html_72193920676a741d.png)

**Лабораторная работа. Просмотр таблицы MAC-адресов коммутатора**

# Топология

![image](https://user-images.githubusercontent.com/80053204/111356093-111a8100-8699-11eb-93b9-c6fd008ab62f.png)

# Таблица адресации

| Устройство | Интерфейс | IP-адрес | Маска подсети |
| --- | --- | --- | --- |
| S1 | VLAN 1 | 192.168.1.11 | 255.255.255.0 |
| --- | --- | --- | --- |
| S2 | VLAN 1 | 192.168.1.12 | 255.255.255.0 |
| PC-A | NIC | 192.168.1.1 | 255.255.255.0 |
| PC-B | NIC | 192.168.1.2 | 255.255.255.0 |

# Цели

**Часть 1. Создание и настройка сети**

**Часть 2. Изучение таблицы МАС-адресов коммутатора**

### Запишите МАС-адреса сетевых устройств.

      Откройте командную строку на PC-A и PC-B и введите команду **ipconfig /all**.

![image](https://user-images.githubusercontent.com/80053204/111356859-d2d19180-8699-11eb-8868-f6a543f3b3c1.png)

![image](https://user-images.githubusercontent.com/80053204/111357022-fa285e80-8699-11eb-8d00-13750825c292.png)


Назовите физические адреса адаптера Ethernet.

MAC-адрес компьютера PC-A: **00**** D ****0.**** BC ****5**** B ****.7843**

MAC-адрес компьютера PC-B: **000**** C ****.**** CF ****5**** D ****.3282**

Закройте окно командной строки.

      Подключитесь к коммутаторам S1 и S2 через консоль и введите команду **show interface F0/1** на каждом коммутаторе.

Откройте окно конфигурации

#### Вопросы:

Назовите адреса оборудования во второй строке выходных данных команды (или зашитый адрес — bia).

МАС-адрес коммутатора S1 Fast Ethernet 0/1: **0010.1185.1d01**

МАС-адрес коммутатора S2 Fast Ethernet 0/1: **0001.423d.7501**

Закройте окно настройки.

   
### Просмотрите таблицу МАС-адресов коммутатора.

Подключитесь к коммутатору S2 через консоль и просмотрите таблицу МАС-адресов до и после тестирования сетевой связи с помощью эхо-запросов.

       Подключитесь к коммутатору S2 через консоль и войдите в привилегированный режим EXEC.

Откройте окно конфигурации

       В привилегированном режиме EXEC введите команду **show mac address-table** и нажмите клавишу ввода.

S2# **show mac address-table**

![image](https://user-images.githubusercontent.com/80053204/111357299-407dbd80-869a-11eb-8e04-e39ee41ff31d.png)


#### Вопросы:

Записаны ли в таблице МАС-адресов какие-либо МАС-адреса?

**Ответ: Да записано 2 адреса**

Какие МАС-адреса записаны в таблице? С какими портами коммутатора они сопоставлены и каким устройствам принадлежат? Игнорируйте МАС-адреса, сопоставленные с центральным процессором.

**Ответ: Динамические МАС адреса сопоставленные с первым портом коммутатора, первый адрес пренадлежит коммутатору**  **S**** 1, а второй - MAC-адрес компьютера PC-A**

Если вы не записали МАС-адреса сетевых устройств в шаге 1, как можно определить, каким устройствам принадлежат МАС-адреса, используя только выходные данные команды **show mac address-table**? Работает ли это решение в любой ситуации?

**Ответ: показывются порты и какие**  **MAC**  **–адреса на них светятся**

Очистите таблицу МАС-адресов коммутатора S2 и снова отобразите таблицу МАС-адресов.

       В привилегированном режиме EXEC введите команду **clear mac address-table dynamic** и нажмите клавишу **Enter**.

S2# **clear mac address-table dynamic**

       Снова быстро введите команду **show mac address-table**.

#### Вопросы:

Указаны ли в таблице МАС-адресов адреса для VLAN 1? Указаны ли другие МАС-адреса?

Через 10 секунд введите команду **show mac address-table** и нажмите клавишу ввода. Появились ли в таблице МАС-адресов новые адреса?

**Ответ: Нет, таблица пуста**

### С компьютера PC-B отправьте эхо-запросы устройствам в сети и просмотрите таблицу МАС-адресов коммутатора.


![image](https://user-images.githubusercontent.com/80053204/111357485-6a36e480-869a-11eb-9a0d-c6605a7c904d.png)


       На компьютере PC-B откройте командную строку и еще раз введите команду **arp -a**.

![image](https://user-images.githubusercontent.com/80053204/111357657-8f2b5780-869a-11eb-915f-1b0b7d5cb22f.png)


Откройте командную строку.

#### Вопрос:

Не считая адресов многоадресной и широковещательной рассылки, сколько пар IP- и МАС-адресов устройств было получено через протокол ARP?

**Ответ**** : **** одна пора**

      1. Из командной строки PC-B отправьте эхо-запросы на компьютер PC-A, а также коммутаторы S1 и S2.

#### Вопрос:

От всех ли устройств получены ответы? Если нет, проверьте кабели и IP-конфигурации.

**Ответ: Да, от всех устройств получены ответы**

Закройте командную строку.

       Подключившись через консоль к коммутатору S2, введите команду **show mac address-table**.

![image](https://user-images.githubusercontent.com/80053204/111357764-a66a4500-869a-11eb-8529-752a0de56dc4.png)

Откройте окно конфигурации

#### Вопрос:

Добавил ли коммутатор в таблицу МАС-адресов дополнительные МАС-адреса? Если да, то какие адреса и устройства?

Ответ: 1 и 3 строки

На компьютере PC-B откройте командную строку и еще раз введите команду **arp -a**.

#### Вопрос:

Появились ли в ARP-кэше компьютера PC-B дополнительные записи для всех сетевых устройств, которым были отправлены эхо-запросы?

**Ответ**** : **** 192.168.1.12 000d.bd76.5715**

Закройте командную строку.


# Вопрос для повторения

В сетях Ethernet данные передаются на устройства по соответствующим МАС-адресам. Для этого коммутаторы и компьютеры динамически создают ARP-кэш и таблицы МАС-адресов. Если компьютеров в сети немного, эта процедура выглядит достаточно простой. Какие сложности могут возникнуть в крупных сетях?

**Ответ: Болшой обьем кеша и таблицы очень большим количеством строк**

©  2013 г. - гггг Корпорация Cisco и/или ее дочерние компании. Все права защищены. Открытая информация Cisco страница **1**** 4**www.netacad.com
