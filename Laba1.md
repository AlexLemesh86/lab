Лабораторная работа. Базовая настройка коммутатора

`	`Топология

`	`Таблица адресации

Устройство	Интерфейс	IP-адрес / префикс

S1	VLAN 99	192.168.1.2 /24

S1	VLAN 99	2001:db8:acad::2 /64

S1	VLAN 99	fe80::2

PC-A	NIC	192.168.1.10 /24

PC-A	NIC	2001:db8:acad:3 /64

PC-A	NIC	fe80::3

`	`Задачи

Часть 1. Проверка конфигурации коммутатора по умолчанию

Часть 2. Создание сети и настройка основных параметров устройства

- `	`Настройте базовые параметры коммутатора.
- `	`Настройте IP-адрес для ПК.

Часть 3. Проверка сетевых подключений

- `	`Отобразите конфигурацию устройства.
- `	`Протестируйте сквозное соединение, отправив эхо-запрос.
- `	`Протестируйте возможности удаленного управления с помощью Telnet.

Часть 4. Управление таблицей MAC-адресов

- `	`Запишите MAC-адрес узла.
- `	`Определите МАС-адреса, полученные коммутатором.
- `	`Перечислите параметры команды show mac address-table.
- `	`Назначьте статический MAC-адрес.

`	`Общие сведения/сценарий

Часть 1. Создание сети и проверка настроек коммутатора по умолчанию

В первой части лабораторной работы вам предстоит настроить топологию сети и проверить настройку коммутатора по умолчанию.

Шаг 1. Создайте сеть согласно топологии.

1. `	`Подсоедините консольный кабель, как показано в топологии. На данном этапе не подключайте кабель Ethernet компьютера PC-A.

Вопрос:

Почему нужно использовать консольное подключение для первоначальной настройки коммутатора? Почему нельзя подключиться к коммутатору через Telnet или SSH?

Ответ:  Это метод доступа наиболее удобен при первоначальном подключении к коммутатору, когда значение IP-адреса неизвестно или не установлено

Шаг 2. Проверьте настройки коммутатора по умолчанию.

	

Вопросы:

Сколько интерфейсов FastEthernet имеется на коммутаторе 2960?

Ответ: 24

Сколько интерфейсов Gigabit Ethernet имеется на коммутаторе 2960?

Ответ: 2

Каков диапазон значений, отображаемых в vty-линиях?

Ответ: line vty 0-4 line vty 5-15

1. `	`Изучите файл загрузочной конфигурации (startup configuration), который содержится в энергонезависимом ОЗУ (NVRAM).

Вопрос:

Почему появляется это сообщение?

Ответ: Потому что отсутствуют значения по умолчанию

1. `	`Изучите характеристики SVI для VLAN 1.

Вопросы:

Назначен ли IP-адрес сети VLAN 1?

Ответ: нет

Какой MAC-адрес имеет SVI?

Ответ: 0006.2a46.8ae3.

Данный интерфейс включен?

Ответ: выключен

1. `	`Изучите IP-свойства интерфейса SVI сети VLAN 1.

Вопрос:

Какие выходные данные вы видите?

Ответ: vlan1 выключен, IP disable

1. `	`Подсоедините кабель Ethernet компьютера PC-A к порту 6 на коммутаторе и изучите IP-свойства интерфейса SVI сети VLAN 1. Дождитесь согласования параметров скорости и дуплекса между коммутатором и ПК.

Вопрос:

Какие выходные данные вы видите?

Ответ: vlan1 выключен, IP disable

1. `	`Изучите сведения о версии ОС Cisco IOS на коммутаторе.

Вопросы:

Под управлением какой версии ОС Cisco IOS работает коммутатор?

Ответ: 15.0(2)SE4

Как называется файл образа системы?

Ответ: C2960-LANBASEK9-M

Какой базовый MAC-адрес назначен коммутатору?

Ответ: 00:17:59:A7:51:80

1. `	`Изучите свойства по умолчанию интерфейса FastEthernet, который используется компьютером PC-A.

Switch# show interface f0/6

Вопрос:

Интерфейс включен или выключен?

Ответ: интерфейс включен и соединен

Что нужно сделать, чтобы включить интерфейс?

Ответ: Подключится к нему кабелем или команда no shutdown

Какой MAC-адрес у интерфейса?

Ответ: 00e0.b040.b406

Какие настройки скорости и дуплекса заданы в интерфейсе?

Ответ: Full-duplex, 100Mb/s

1. `	`Изучите параметры сети VLAN по умолчанию на коммутаторе.

Какое имя присвоено сети VLAN 1 по умолчанию?

Ответ: default

Какие порты расположены в сети VLAN 1?

Ответ: Все порты находятся в vlan1

Активна ли сеть VLAN 1?

Ответ: Да, активна

К какому типу сетей VLAN принадлежит VLAN по умолчанию?

1. `	`Изучите флеш-память.

Выполните одну из следующих команд, чтобы изучить содержимое флеш-каталога.

Switch# show flash

Switch# dir flash:

В конце имени файла указано расширение, например .bin. Каталоги не имеют расширения файла.

Вопрос:

Какое имя присвоено образу Cisco IOS?

Ответ: 2960-lanbasek9-mz.150-2.SE4.bin

Часть 2. Настройка базовых параметров сетевых устройств

Во второй части необходимо будет настроить основные параметры коммутатора и компьютера.

Шаг 1. Настройте базовые параметры коммутатора.

Вопрос:

Для чего нужна команда login?

Ответ:   Запрос авторизации при подключении


Шаг 2. Настройте IP-адрес на компьютере PC-A.

Часть 3. Проверка сетевых подключений

В третьей части лабораторной работы вам предстоит проверить и задокументировать конфигурацию коммутатора, протестировать сквозное соединение между компьютером PC-A и коммутатором S1, а также протестировать возможность удаленного управления коммутатором.

Шаг 1. Отобразите конфигурацию коммутатора.

Ответ:

S1#show running-config

Building configuration...

Current configuration : 2093 bytes

!

version 15.0

no service timestamps log datetime msec

no service timestamps debug datetime msec

service password-encryption

!

hostname S1

!

enable secret 5 $1$mERr$9cTjUIEqNGurQiFU.ZeCi1

!

!

!

no ip domain-lookup

!

!

!

spanning-tree mode pvst

spanning-tree extend system-id

!

interface FastEthernet0/1

switchport access vlan 99

!

interface FastEthernet0/2

switchport access vlan 99

!

interface FastEthernet0/3

switchport access vlan 99

!

interface FastEthernet0/4

switchport access vlan 99

!

interface FastEthernet0/5

switchport access vlan 99

!

interface FastEthernet0/6

switchport access vlan 99

!

interface FastEthernet0/7

switchport access vlan 99

!

interface FastEthernet0/8

switchport access vlan 99

!

interface FastEthernet0/9

switchport access vlan 99

!

interface FastEthernet0/10

switchport access vlan 99

!

interface FastEthernet0/11

switchport access vlan 99

!

interface FastEthernet0/12

switchport access vlan 99

!

interface FastEthernet0/13

switchport access vlan 99

!

interface FastEthernet0/14

switchport access vlan 99

!

interface FastEthernet0/15

switchport access vlan 99

!

interface FastEthernet0/16

switchport access vlan 99

!

interface FastEthernet0/17

switchport access vlan 99

!

interface FastEthernet0/18

switchport access vlan 99

!

interface FastEthernet0/19

switchport access vlan 99

!

interface FastEthernet0/20

switchport access vlan 99

!

interface FastEthernet0/21

switchport access vlan 99

!

interface FastEthernet0/22

switchport access vlan 99

!

interface FastEthernet0/23

switchport access vlan 99

!

interface FastEthernet0/24

switchport access vlan 99

!

interface GigabitEthernet0/1

switchport access vlan 99

!

interface GigabitEthernet0/2

switchport access vlan 99

!

interface Vlan1

no ip address

shutdown

!

interface Vlan99

ip address 192.168.1.2 255.255.255.0

!

ip default-gateway 192.168.1.1

!

banner motd ^C

Unauthorized access is strictly prohibited. ^C

!

!

!

line con 0

password 7 0822455D0A16

logging synchronous

login

!

line vty 0 4

password 7 0822455D0A16

logging synchronous

login

line vty 5 15

login

!

!

!

!

end

1. `	`Проверьте параметры административной VLAN 99.

S1# show interface vlan 99

Какова полоса пропускания этого интерфейса?

Ответ: BW 100000 Kbit

В каком состоянии находится VLAN 99?

Ответ: Включен

В каком состоянии находится канальный протокол?

Ответ: Включен

Закройте окно настройки.

Шаг 2. Протестируйте сквозное соединение, отправив эхо-запрос.

Шаг 3. Проверьте удаленное управление коммутатором S1.

Часть 4. Управление таблицей MAC-адресов

В четвертой части необходимо определить MAC-адрес, полученный коммутатором, настроить статический MAC-адрес для одного из интерфейсов коммутатора, а затем удалить статический MAC-адрес из конфигурации интерфейса.

Шаг 1. Запишите MAC-адрес узла.

В командной строке компьютера PC-A выполните команду ipconfig /all, чтобы определить и записать адреса 2-го уровня (физические) сетевой интерфейсной платы.

Шаг 2. Определите МАС-адреса, полученные коммутатором.

Откройте окно конфигурации

Отобразите МАС-адреса с помощью команды show mac address-table.

S1# show mac address-table

Вопросы:

Сколько динамических адресов присутствует?

Ответ: Один

Сколько МАС-адресов имеется в общей сложности?

Ответ: Один

Совпадает ли динамический MAC-адрес с МАС-адресом компьютера PC-A?

Ответ: Да, совпадают


Шаг 3. Перечислите параметры команды show mac address-table.

1. `	`Отобразите параметры таблицы МАС-адресов.

S1# show mac address-table ?

Вопрос:

Сколько параметров доступно для команды show mac address-table?

Ответ: 4 параметра Vlan, Mac Address, Тип, Порт

1. `	`Введите команду show mac address-table dynamic, чтобы отобразить только те МАС-адреса, которые были получены динамически.

S1# show mac address-table dynamic

Вопрос:

Сколько динамических адресов присутствует?

Ответ: Один

1. `	`Просмотрите запись MAC-адреса для компьютера PC-A. Формат MAC-адреса для команды: xxxx.xxxx.xxxx.

S1# show mac address-table address <PC-A MAC here>

Шаг 4. Назначьте статический MAC-адрес.

1. `	`Очистите таблицу MAC-адресов.

Чтобы удалить существующие МАС-адреса, в исполнительском режиме EXEC используйте команду clear mac address-table dynamic.

S1# clear mac address-table dynamic

1. `	`Убедитесь, что таблица МАС-адресов очищена.

S1# show mac address-table

Вопрос:

Сколько статических MAC-адресов присутствует сейчас в таблице?

Ответ: Их нет

Сколько динамических адресов присутствует?

Ответ: Их нет

1. `	`Снова изучите таблицу МАС-адресов.

Скорее всего, приложение, работающее на вашем ПК, уже отправило кадр из сетевого адаптера на коммутатор S1. Снова просмотрите таблицу МАС-адресов в исполнительском режиме EXEC и выясните, был ли МАС-адрес компьютера PC-A повторно получен коммутатором S1.

S1# show mac address-table

Вопросы:

Сколько динамических адресов присутствует?

Ответ: Один

Почему это значение изменилось с предыдущего раза?

Если коммутатор S1 еще не получил повторно MAC-адрес для PC-A, отправьте эхо-запрос на IP-адрес VLAN 99 коммутатора от PC-A, а затем снова выполните команду mac address-table show.

1. `	`Назначьте статический MAC-адрес.

Чтобы определить, к каким портам может подключиться узел, можно создать статическое сопоставление узлового МАС-адреса с портом.

Настройте статический MAC-адрес на интерфейсе F0/6, используя адрес, записанный для PC-A в части 4, на шаге 1. MAC-адрес 0050.56BE.6C89 используется только в качестве примера. Необходимо использовать MAC-адрес компьютера PC-A, который отличается от указанного здесь в качестве примера.

S1(config)# mac address-table static 0050.56BE.6C89 vlan 99 interface fastethernet 0/6

1. `	`Выполните проверку записей в таблице MAC-адресов.

S1# show mac address-table

Вопросы:

Сколько всего динамических адресов присутствует?

Ответ: ни одного

Сколько статических адресов присутствует?

Ответ: Один

1. `	`Удалите запись статического МАС. Перейдите в режим глобальной настройки и удалите команду. Для этого укажите no перед строкой с командой.

Примечание. MAC-адрес 0050.56BE.6C89 используется только в рассматриваемом примере. Используйте MAC-адрес компьютера PC-A.

S1(config)# no mac address-table static 0050.56BE.6C89 vlan 99 interface fastethernet 0/6

1. `	`Убедитесь, что статический МАС-адрес был удален.

S1# show mac address-table

Вопрос:

Сколько всего статических MAC-адресов содержится в таблице?

Ответ: ни одного

Закройте окно настройки.

`	`Вопросы для повторения

1. `	`Зачем необходимо настраивать пароль VTY для коммутатора?

Ответ: Защита важна, поскольку злоумышленники могут видеть настройки коммутатора, получить настройки сети и находить новые способы атаки на сеть

1. `	`Зачем нужно изменять VLAN 1 по умолчанию на сеть VLAN с другим номером?

Ответ: для исключения конфликтных ситуаций с другим оборудованием

1. `	`Что нужно сделать, чтобы пароли не отправлялись в незашифрованном виде?

Ответ: Использовать команду enable secret

1. `	`Зачем нужно настраивать статический MAC-адрес на интерфейсе порта?

Ответ: Чтобы устройство только с этим адресом могло подключиться

